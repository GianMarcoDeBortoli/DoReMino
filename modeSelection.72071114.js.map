{"version":3,"sources":["modules/sound.js","modeSelection.js"],"names":["synth","Tone","Synth","toDestination","poly","PolySynth","pluck","PluckSynth","membrane","MembraneSynth","metal","MetalSynth","volume","value","searchForNote","playChordsOnHeader","index","triggerAttackRelease","playNoteOnHeader","playPluck","playMembrane","errorSound","changeSetSound","interval","setInterval","setTimeout","clearInterval","play_melody","result","time","now","i","length","grade","indexOf","note","rulesButton","document","getElementById","addEventListener","location","replace","title","querySelectorAll","x","j","l","ll","selElmnt","a","b","c","forEach","element","event","currentTarget","style","setProperty","getElementsByClassName","getElementsByTagName","createElement","setAttribute","innerHTML","options","selectedIndex","appendChild","e","y","k","s","h","sl","yl","parentNode","previousSibling","removeAttribute","click","stopPropagation","closeAllSelect","nextSibling","classList","toggle","elmnt","xl","arrNo","push","remove","add"],"mappings":"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","file":"modeSelection.72071114.js","sourceRoot":"..","sourcesContent":["/* ************************************************** MODEL **************************************************** */\r\n\r\n/* creation of synths with tone.js */\r\nexport const synth = new Tone.Synth().toDestination();\r\nconst poly = new Tone.PolySynth().toDestination();\r\nconst pluck = new Tone.PluckSynth().toDestination();\r\nconst membrane = new Tone.MembraneSynth().toDestination();\r\nconst metal = new Tone.MetalSynth().toDestination();\r\n\r\n/* regulation of volumes */\r\npluck.volume.value = -12;\r\nmembrane.volume.value = -12;\r\nmetal.volume.value = -12;\r\n\r\n/* dictionary used to get the correct note from of the grade */\r\nexport const searchForNote = [[-6, -5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10,11,12],\r\n                       [\"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\"]];\r\n\r\n\r\n/* functions that creates the ambient sounds */\r\nexport function playChordsOnHeader(index) {\r\n    if (index == 0) poly.triggerAttackRelease([\"C4\", \"G4\"], \"8n\");\r\n    else if (index == 1) poly.triggerAttackRelease([\"D4\", \"F4\"], \"8n\");\r\n    else if (index == 2) poly.triggerAttackRelease([\"B3\", \"E4\", \"G4\"], \"8n\");\r\n    else if (index == 3) synth.triggerAttackRelease(\"C4\", \"4n\");\r\n}\r\n\r\nexport function playNoteOnHeader(index) {\r\n    if (index == 0) synth.triggerAttackRelease(\"C4\", \"8n\");\r\n    else if (index == 1) synth.triggerAttackRelease(\"D4\", \"8n\");\r\n    else if (index == 2) synth.triggerAttackRelease(\"E4\", \"8n\");\r\n}\r\n\r\nexport function playPluck() {\r\n    pluck.triggerAttackRelease(\"C5\", \"16n\");\r\n}\r\n\r\nexport function playMembrane() {\r\n    membrane.triggerAttackRelease(\"C4\", \"16n\");\r\n}\r\n\r\nexport function errorSound() {\r\n    metal.triggerAttackRelease(\"C5\", \"32n\");\r\n}\r\n\r\nexport function changeSetSound() {\r\n    let interval = setInterval(function () {pluck.triggerAttackRelease(\"C6\", \"32n\")}, 40);\r\n    setTimeout(function () {clearInterval(interval)}, 300);\r\n}\r\n\r\n/* function that plays back the melody built inside the game */\r\nexport function play_melody(result){\r\n  let time = 0;\r\n  const now = Tone.now()\r\n      for(let i=0 ; i<result.length; i++){\r\n          let grade = result[i];\r\n          let index = searchForNote[0].indexOf(grade);\r\n          let note = searchForNote[1][index];\r\n          synth.triggerAttackRelease(note, \"8n\", now + time);\r\n          time += 0.5;\r\n      }\r\n}\r\n","import { playNoteOnHeader, playPluck, playMembrane } from \"./modules/sound\";\r\n\r\n\r\n/* redirecting to the rules of the game when clicking the button */\r\nconst rulesButton = document.getElementById(\"rulesButton\");\r\n\r\nrulesButton.addEventListener(\"click\", function() {\r\n  playMembrane();\r\n  setTimeout(function() {location.replace(\"rules.html\")}, 700);\r\n});\r\n\r\n/* animates the title upon pointing the mouse over it */\r\nconst title = document.querySelectorAll(\".title\");\r\n\r\ntitle.forEach((element, index) => element.addEventListener(\"mouseover\", function() {\r\n  event.currentTarget.style.setProperty(\"transform\", 'scale(1.2, 1.2)');\r\n  playNoteOnHeader(index);\r\n}))\r\n\r\ntitle.forEach(element => element.addEventListener(\"mouseleave\", function() {\r\n  event.currentTarget.style.setProperty(\"transform\", '');\r\n}))\r\n\r\n\r\n/* ------------- elements needed to modify CSS select mode ---------------*/\r\nvar x, i, j, l, ll, selElmnt, a, b, c;\r\n/* Look for any elements with the class \"custom-select\": */\r\nx = document.getElementsByClassName(\"custom-select\");\r\nl = x.length;\r\nfor (i = 0; i < l; i++) {\r\n  selElmnt = x[i].getElementsByTagName(\"select\")[0];\r\n  ll = selElmnt.length;\r\n  /* For each element, create a new DIV that will act as the selected item: */\r\n  a = document.createElement(\"div\");\r\n  a.setAttribute(\"class\", \"select-selected\");\r\n  a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;\r\n  x[i].appendChild(a);\r\n  /* For each element, create a new DIV that will contain the option list: */\r\n  b = document.createElement(\"div\");\r\n  b.setAttribute(\"class\", \"select-items select-hide\");\r\n  for (j = 1; j < ll; j++) {\r\n    /* For each option in the original select element,\r\n    create a new DIV that will act as an option item: */\r\n    c = document.createElement(\"DIV\");\r\n    c.innerHTML = selElmnt.options[j].innerHTML;\r\n    c.addEventListener(\"click\", function(e) {\r\n        /* When an item is clicked, update the original select box,\r\n        and the selected item: */\r\n        var y, i, k, s, h, sl, yl;\r\n        s = this.parentNode.parentNode.getElementsByTagName(\"select\")[0];\r\n        sl = s.length;\r\n        h = this.parentNode.previousSibling;\r\n        for (i = 0; i < sl; i++) {\r\n          if (s.options[i].innerHTML == this.innerHTML) {\r\n            s.selectedIndex = i;\r\n            h.innerHTML = this.innerHTML;\r\n            y = this.parentNode.getElementsByClassName(\"same-as-selected\");\r\n            yl = y.length;\r\n            for (k = 0; k < yl; k++) {\r\n              y[k].removeAttribute(\"class\");\r\n            }\r\n            this.setAttribute(\"class\", \"same-as-selected\");\r\n            break;\r\n          }\r\n        }\r\n        h.click();\r\n    });\r\n    b.appendChild(c);\r\n  }\r\n  x[i].appendChild(b);\r\n  a.addEventListener(\"click\", function(e) {\r\n    /* When the select box is clicked, close any other select boxes,\r\n    and open/close the current select box: */\r\n    e.stopPropagation();\r\n    closeAllSelect(this);\r\n    this.nextSibling.classList.toggle(\"select-hide\");\r\n    this.classList.toggle(\"select-arrow-active\");\r\n    playPluck();\r\n  });\r\n}\r\n\r\nfunction closeAllSelect(elmnt) {\r\n  /* A function that will close all select boxes in the document,\r\n  except the current select box: */\r\n  var x, y, i, xl, yl, arrNo = [];\r\n  x = document.getElementsByClassName(\"select-items\");\r\n  y = document.getElementsByClassName(\"select-selected\");\r\n  xl = x.length;\r\n  yl = y.length;\r\n  for (i = 0; i < yl; i++) {\r\n    if (elmnt == y[i]) {\r\n      arrNo.push(i)\r\n    } else {\r\n      y[i].classList.remove(\"select-arrow-active\");\r\n    }\r\n  }\r\n  for (i = 0; i < xl; i++) {\r\n    if (arrNo.indexOf(i)) {\r\n      x[i].classList.add(\"select-hide\");\r\n    }\r\n  }\r\n}\r\n\r\n/* If the user clicks anywhere outside the select box,\r\nthen close all select boxes: */\r\ndocument.addEventListener(\"click\", closeAllSelect);\r\n\r\n"]}